<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Adivinhe o Símbolo!</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Roboto+Slab:wght@700&display=swap" rel="stylesheet">
<style>
body {
    background-color: #f0faff;
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100'><text x='10' y='40' style='font-size:25px;opacity:0.15;'>☀️</text><text x='60' y='80' style='font-size:25px;opacity:0.15;'>☔</text><text x='35' y='10' style='font-size:25px;opacity:0.15;'>❓</text></svg>");
    background-repeat: repeat;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    font-family: 'Montserrat', sans-serif;
    padding: 20px;
    color: #333;
}
.container {
    max-width: 600px;
    width: 100%;
    background: #fff;
    padding: 40px 25px;
    border-radius: 35px;
    box-shadow: 0 20px 16px rgba(0, 0, 0, 0.3);
    display: flex;
    flex-direction: column;
    align-items: center;
    box-sizing: border-box;
}
h2 {
    font-family: 'Roboto Slab', serif;
    color: #ff5722;
    border-bottom: 3px solid #ff9800;
    padding-bottom: 10px;
    margin-bottom: 25px;
    text-align: center;
}
p { text-align: center; }
.simbolo-grade {
    font-size: 2.5em;
    line-height: 1.4;
    word-spacing: 10px;
    border: 2px dashed #00bcd4;
    border-radius: 10px;
    background-color: #f0f8ff;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    padding: 15px;
    margin-bottom: 25px;
}
button, a.btn {
    padding: 12px 25px;
    font-size: 1.1em;
    cursor: pointer;
    border: none;
    border-radius: 30px;
    transition: background-color 0.3s, transform 0.2s;
    font-weight: bold;
    box-shadow: 0 4px rgba(0, 0, 0, 0.2);
    text-decoration: none;
    color: white;
}
#btn-pronto { background-color: #4CAF50; box-shadow: 0 4px #388e3c; animation: pulse 1.5s infinite; }
#btn-pronto:hover { background-color: #388e3c; transform: scale(1.05); animation: none; }
.secondary-button { background-color: #007bff; box-shadow: 0 4px #0056b3; }
.secondary-button:hover { background-color: #0056b3; transform: scale(1.05); }
@keyframes pulse { 0%,100%{transform:scale(1);}50%{transform:scale(1.05);} }

#tela-perguntas { display: none; width: 100%; flex-direction: column; align-items: center; }
.pergunta-lista {
    border: 2px solid #007bff;
    border-radius: 8px;
    padding: 12px;
    background-color: #e9f5ff;
    opacity: 0;
    transform: translateY(10px);
    transition: opacity .4s, transform .4s;
    position: absolute;
    width: 100%;
    box-sizing: border-box;
}
.pergunta-lista.active { opacity: 1; transform: translateY(0); z-index: 2; }
.lista-simbolos { font-size: 1.6em; text-align: center; margin: 10px 0; }
.resposta-container { display: flex; justify-content: center; gap: 20px; margin-top: 15px; flex-wrap: wrap; }
.resposta-container button.sim { background-color: #4CAF50; box-shadow: 0 4px #388e3c; }
.resposta-container button.nao { background-color: #f44336; box-shadow: 0 4px #d32f2f; }
.resposta-container button:active { transform: scale(0.95); }

#contador {
    margin-bottom: 15px;
    font-weight: bold;
    color: #007bff;
    font-size: 1.1em;
    background: #e3f2fd;
    padding: 8px 18px;
    border-radius: 20px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    display: none;
}

#resultado {
    font-size: 2.3em;
    color: #007bff;
    border: 4px dashed #ff9800;
    border-radius: 25px;
    padding: 25px;
    margin-top: 10px;
    text-align: center;
    display: none;
}
#btn-reiniciar { background-color: #f44336; margin-top: 20px; }

@media (max-width: 480px) {
    .container { padding: 25px 15px; border-radius: 25px; }
    h2 { font-size: 1.3em; }
    .simbolo-grade { font-size: 2em; word-spacing: 5px; padding: 10px; }
    .lista-simbolos { font-size: 1.3em; }
    .resposta-container { flex-direction: column; width: 100%; }
    .resposta-container button { width: 100%; }
    #resultado { font-size: 1.8em; padding: 15px; }
}
</style>
</head>
<body>

<div class="container">
    <div id="tela-apresentacao">
        <h2>PENSE EM UM SÍMBOLO</h2>
        <p>Memorize um símbolo da lista abaixo e clique em "Estou pronto!"</p>
        <div id="simbolos-todos" class="simbolo-grade"></div>
        <div style="display:flex;gap:15px;flex-wrap:wrap;justify-content:center;">
            <a href="menu-minigames.html" class="btn secondary-button">Voltar ao Menu</a>
            <button id="btn-pronto">Estou pronto!</button>
        </div>
    </div>

    <div id="tela-perguntas">
        <div id="contador">Pergunta 1 de 7</div>
        <div id="listas-container" style="position:relative;min-height:420px;width:100%;"></div>
        <div id="resultado"></div>
        <button id="btn-reiniciar" style="display:none;">Reiniciar Jogo</button>
    </div>
</div>

<p style="margin-top:40px;color:#888;font-size:0.9em;">Criado por: Lucas Coelho, 2025</p>

<script>
// ======== CONFIGURAÇÃO ======== //
let somaFinal = 0, listaAtualIndex = 0;

const simbolosDisponiveis = [
'☀️','☁️','☔','⚡','❄️','🔥','💧','🌊','🌪️','⛰️','⛺','🏠','🚗','🚲','✈️','⛵',
'🚀','🛸','🪐','🌙','⭐','🌈','🌻','🌳','🌴','🍀','🍎','🍉','🍌','🍇','🥥','🌽',
'🍞','🥩','🍕','🍔','🍟','🍣','🎂','🍩','🎈','🎉','🎮','🎲','🧩','⚽','🏀','🏆',
'🎯','🎤','🎧','🎹','🎸','🎺','🎻','📱','💻','🖥️','📷','🎥','📺','⏰','⌛','🕹️',
'💡','🔦','🔋','🔑','💎','💰','💣','🪙','❤️','💔','💖','💀','👑','🧠','👀','👂',
'🖐️','🦶','👣','🧤','🪶','🐶','🐱','🐸','🐢','🐍','🦜','🦋','🐞','🐟','🐠','🐬',
'🐘','🦒','🦓','🦁','🐺','🐯','🐴','🐷','🐮','🐔','🦆','🐧','🐤','🐣','🐥','🐝',
'🐛','🦗','🕷️','🕸️','🦂','🦀','🐙','🪼','🐡','🐊','🦖','🦕','🦭','🐼','🐻','🦊'
];

const tabelaSimbolos = {};
for(let i=1;i<=simbolosDisponiveis.length;i++){tabelaSimbolos[i]=simbolosDisponiveis[i-1];}

const frasesEngracadas = [
  "🧐 Você tem certeza? O 'Sim' não morde!",
  "😅 Ahhh… você quase acertou! Tenta de novo, vai.",
  "😂 Errar é humano, clicar em 'Não' é arte!",
  "🙃 Parabéns! Você ganhou… nada! Quer tentar de novo?",
  "🐢 O botão certo fugiu! Corre atrás dele e tenta de novo.",
  "😜 Clicou em 'Não'? O jogo ficou triste agora.",
  "🧠 Parece que o cérebro tirou férias, hein?"
];

// ======== SONS ======== //
const somAcerto = new Audio("https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3");
const somErro = new Audio("https://assets.mixkit.co/active_storage/sfx/2745/2745-preview.mp3");

// ======== FUNÇÕES ======== //
const gerarListaSimbolos = v => Object.entries(tabelaSimbolos)
  .filter(([i]) => (i & v) == v)
  .map(([,s]) => s).join(' ');

const listas = [1,2,4,8,16,32,64].map(v=>({valor:v,simbolos:gerarListaSimbolos(v)}));

const simbolosTodosDiv=document.getElementById('simbolos-todos');
simbolosTodosDiv.innerHTML=Object.values(tabelaSimbolos).join(' ');

const telaApresentacao=document.getElementById('tela-apresentacao'),
telaPerguntas=document.getElementById('tela-perguntas'),
listasContainer=document.getElementById('listas-container'),
resultadoDiv=document.getElementById('resultado'),
btnReiniciar=document.getElementById('btn-reiniciar'),
contador=document.getElementById('contador');

listas.forEach((l,i)=>{
  const d=document.createElement('div');
  d.className='pergunta-lista';
  d.id='lista-'+i;
  d.innerHTML=`
    <h2>O símbolo que você pensou está na lista abaixo?</h2>
    <div class="lista-simbolos">${l.simbolos}</div>
    <div class="resposta-container">
      <button class="sim" onclick="responder(${l.valor},true)">SIM</button>
      <button class="nao" onclick="responder(${l.valor},false)">NÃO</button>
    </div>`;
  listasContainer.appendChild(d);
});

const elementosLista=document.querySelectorAll('.pergunta-lista');

function atualizarContador(){
  contador.innerText=`Pergunta ${listaAtualIndex+1} de ${listas.length}`;
}

function mostrarProximaLista(){
  if(listaAtualIndex>0)elementosLista[listaAtualIndex-1].classList.remove('active');
  if(listaAtualIndex>=listas.length)return setTimeout(mostrarResultado,400);
  elementosLista[listaAtualIndex].classList.add('active');
  atualizarContador();
} 

window.responder=function(v,sim){
  if(sim)somaFinal+=v;
  elementosLista[listaAtualIndex].classList.remove('active');
  listaAtualIndex++;
  setTimeout(mostrarProximaLista,400);
}

function mostrarResultado(){
  contador.style.display='none';
  listasContainer.style.display='none';
  resultadoDiv.style.display='block';
  resultadoDiv.innerHTML='<h3>... Pensando ...</h3>';
  setTimeout(()=>{
    const s=tabelaSimbolos[somaFinal];
    if(s){
      somAcerto.play();
      resultadoDiv.innerHTML = `<p>O gênio adivinhou! Seu símbolo é...</p><span style="font-size:4em;">${s}</span>`;
    } else {
      somErro.play();
      const frase = frasesEngracadas[Math.floor(Math.random() * frasesEngracadas.length)];
      resultadoDiv.innerHTML = `<p style="color:#f44336;">${frase}</p>`;
    }
    btnReiniciar.style.display='block';
  },1500);
}

document.getElementById('btn-pronto').onclick=()=>{
  telaApresentacao.style.display='none';
  telaPerguntas.style.display='flex';
  contador.style.display='inline-block';
  listaAtualIndex=0; somaFinal=0;
  mostrarProximaLista();
};
btnReiniciar.onclick = () => location.reload();
</script>
</body>
</html>
