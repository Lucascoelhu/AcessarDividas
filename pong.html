<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PONG Ultra-Divertido (Com Efeitos Sonoros)</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #0d1117;
            color: #ffffff;
            font-family: 'Press Start 2P', cursive, monospace;
            overflow: hidden;
        }

        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        h1 {
            margin-bottom: 10px;
            color: #00bcd4;
            text-shadow: 0 0 12px #00bcd4, 0 0 24px #00bcd4;
        }

        #gameCanvas {
            border: 5px solid #00bcd4;
            background-color: #000;
            box-shadow: 0 0 25px rgba(0, 188, 212, 0.7);
        }

        #botao-principal-container {
            margin: 25px 0 15px 0;
        }

        .botao-principal {
            padding: 15px 30px;
            font-size: 1.5em;
            font-weight: bold;
            color: #1a1a1a;
            background-color: #ff9800;
            border: 5px solid #ff7043;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.1s, transform 0.1s, box-shadow 0.1s;
            user-select: none;
            box-shadow: 0 0 18px rgba(255, 152, 0, 0.9);
            font-family: 'Press Start 2P', cursive, monospace;
        }

        .botao-principal:hover {
            background-color: #ffcc80;
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(255, 204, 128, 1);
        }

        #menuBtn {
            padding: 10px 20px;
            font-size: 1em;
            font-weight: bold;
            color: #e0e0e0;
            background-color: #3f51b5;
            border: 3px solid #303f9f;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.1s, transform 0.1s;
            user-select: none;
            box-shadow: 0 0 10px rgba(63, 81, 181, 0.5);
            font-family: 'Press Start 2P', cursive, monospace;
            margin-top: 15px;
        }

        #menuBtn:hover {
            background-color: #7986cb;
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(121, 134, 203, 1);
        }

        #controles-direcionais {
            display: flex;
            gap: 40px;
            margin-top: 25px;
        }

        .botao-controle {
            padding: 20px 45px;
            font-size: 1.8em;
            font-weight: bold;
            color: #1a1a1a;
            background-color: #00bcd4;
            border: 4px solid #0097a7;
            border-radius: 15px;
            cursor: pointer;
            transition: background-color 0.1s, transform 0.1s, box-shadow 0.1s;
            user-select: none;
            box-shadow: 0 0 18px rgba(0, 188, 212, 0.9);
            font-family: 'Press Start 2P', cursive, monospace;
        }

        .botao-controle:hover {
            background-color: #4dd0e1;
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(77, 208, 225, 1);
        }

        #instrucoes {
            margin-top: 20px;
            font-size: 0.9em;
            color: #999;
            text-align: center;
        }

        @media (max-width: 800px) {
            #gameCanvas { width: 90vw; height: 60vw; }
            .botao-principal { padding: 12px 25px; font-size: 1.3em; }
            .botao-controle { padding: 15px 35px; font-size: 1.5em; }
            #controles-direcionais { gap: 20px; margin-top: 15px; }
            #menuBtn { font-size: 0.9em; padding: 8px 15px; }
        }

        footer {
            text-align: center;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.5);
            padding-top: 10px;
        }
    </style>
</head>
<body>

    <h1>PONG</h1>
    <canvas id="gameCanvas" width="800" height="500"></canvas>

    <div id="botao-principal-container">
        <button id="playBtn" class="botao-principal">JOGAR / REINICIAR</button>
    </div>

    <div id="controles-direcionais">
        <button id="upBtn" class="botao-controle">▲ Cima</button>
        <button id="downBtn" class="botao-controle">▼ Baixo</button>
    </div>

    <div id="instrucoes">
        Use os botões <strong>CIMA</strong> e <strong>BAIXO</strong> para controlar.<br>
        Pressione <span style="color:#ff9800;">ESPAÇO</span> ou <strong>JOGAR</strong> para iniciar!
    </div>

    <button id="menuBtn">Voltar ao Menu</button>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        let W = canvas.width, H = canvas.height;
        let RACKET_W, RACKET_H, RACKET_SPEED, BALL_SIZE, INITIAL_BALL_SPEED, MAX_BALL_SPEED, CPU_SPEED_BASE;
        let gameLoopId, gameState = 'start';
        let playerScore = 0, cpuScore = 0;
        const MAX_SCORE = 5;
        let playerY, cpuY, playerMovement = 0;
        let ballX, ballY, ballSpeedX, ballSpeedY;
        const particles = [];

        // --- Efeitos Sonoros (com sons públicos reais) ---
        const audioHit = new Audio('https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg');
        const audioScore = new Audio('https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg');
        const audioWall = new Audio('https://actions.google.com/sounds/v1/foley/metal_hit_metal_1.ogg');
        const audioGameOver = new Audio('https://actions.google.com/sounds/v1/cartoon/metal_thud_and_hit.ogg');
        const audioStart = new Audio('https://actions.google.com/sounds/v1/cartoon/concussive_hit_guitar_boing.ogg');

        function playSound(audio) {
            const s = audio.cloneNode();
            s.volume = 0.6;
            s.play().catch(()=>{});
        }

        function resizeCanvas() {
            const ratio = 800 / 500;
            if (window.innerWidth < 900) {
                W = window.innerWidth * 0.9;
                H = W / ratio;
                canvas.width = W;
                canvas.height = H;
            } else {
                W = 800; H = 500;
                canvas.width = W; canvas.height = H;
            }

            RACKET_H = H * 0.15;
            RACKET_W = Math.min(W, H) * 0.0125;
            BALL_SIZE = Math.min(W, H) * 0.02;
            RACKET_SPEED = 6 * (H / 500);
            CPU_SPEED_BASE = 3.5 * (H / 500);
            INITIAL_BALL_SPEED = 5 * (W / 800);
            MAX_BALL_SPEED = 15 * (W / 800);

            playerY = H / 2 - RACKET_H / 2;
            cpuY = H / 2 - RACKET_H / 2;
            resetBall(true);
            draw();
        }

        class Particle {
            constructor(x,y,color){
                this.x=x;this.y=y;this.size=Math.random()*4+2;
                this.speedX=(Math.random()*2-1)*0.7;
                this.speedY=(Math.random()*2-1)*0.7;
                this.color=color;this.alpha=1;this.life=Math.random()*40+40;
            }
            update(){this.x+=this.speedX;this.y+=this.speedY;this.alpha-=1/this.life;this.size*=0.93;}
            draw(){ctx.save();ctx.globalAlpha=this.alpha;
                ctx.beginPath();ctx.arc(this.x,this.y,this.size/2,0,Math.PI*2);
                ctx.fillStyle=this.color;ctx.shadowBlur=5;ctx.shadowColor=this.color;
                ctx.fill();ctx.closePath();ctx.restore();}
        }

        function createParticles(x,y,c,cColor){for(let i=0;i<c;i++)particles.push(new Particle(x,y,cColor));}
        function clearCanvas(){ctx.fillStyle='#000';ctx.fillRect(0,0,W,H);}
        function drawRacket(x,y){ctx.fillStyle='#00bcd4';ctx.fillRect(x,y,RACKET_W,RACKET_H);}
        function drawBall(){ctx.beginPath();ctx.arc(ballX,ballY,BALL_SIZE/2,0,Math.PI*2);
            ctx.fillStyle='#ff9800';ctx.shadowBlur=15;ctx.shadowColor='#ff9800';ctx.fill();ctx.closePath();ctx.shadowBlur=0;}
        function drawScoreAndNet(){
            ctx.strokeStyle='#00bcd4';ctx.setLineDash([15,10]);ctx.beginPath();
            ctx.moveTo(W/2,0);ctx.lineTo(W/2,H);ctx.stroke();ctx.setLineDash([]);
            ctx.fillStyle='#e0e0e0';ctx.font=`${40*(W/800)}px 'Press Start 2P'`;
            ctx.textAlign='center';ctx.fillText(playerScore,W/4,50*(H/500));ctx.fillText(cpuScore,W*3/4,50*(H/500));
        }
        function drawParticles(){for(let i=particles.length-1;i>=0;i--){particles[i].update();particles[i].draw();if(particles[i].alpha<=0||particles[i].size<=0.5)particles.splice(i,1);}}
        function draw(){
            clearCanvas();drawScoreAndNet();drawRacket(0,playerY);drawRacket(W-RACKET_W,cpuY);drawBall();drawParticles();
            if(gameState==='start')drawStartScreen();else if(gameState==='gameover')drawGameOverScreen();
        }

        function drawStartScreen(){
            ctx.fillStyle='rgba(0,0,0,0.7)';ctx.fillRect(0,0,W,H);
            ctx.fillStyle='#e0e0e0';ctx.font=`${40*(W/800)}px 'Press Start 2P'`;
            ctx.textAlign='center';ctx.fillText('PONG',W/2,H/2-60*(H/500));
            ctx.font=`${20*(W/800)}px 'Press Start 2P'`;
            ctx.fillText('Pressione ESPAÇO ou',W/2,H/2+10*(H/500));
            ctx.fillText('clique em JOGAR para iniciar!',W/2,H/2+50*(H/500));
        }

        function drawGameOverScreen(){
            ctx.fillStyle='rgba(0,0,0,0.7)';ctx.fillRect(0,0,W,H);
            ctx.fillStyle='#e0e0e0';ctx.font=`${40*(W/800)}px 'Press Start 2P'`;
            ctx.textAlign='center';ctx.fillText('FIM DE JOGO!',W/2,H/2-60*(H/500));
            let winner=playerScore>=MAX_SCORE?'JOGADOR VENCEU!':'CPU VENCEU!';
            ctx.font=`${30*(W/800)}px 'Press Start 2P'`;ctx.fillText(winner,W/2,H/2);
            ctx.font=`${20*(W/800)}px 'Press Start 2P'`;
            ctx.fillText('Pressione ESPAÇO ou',W/2,H/2+70*(H/500));
            ctx.fillText('clique em JOGAR para reiniciar!',W/2,H/2+110*(H/500));
        }

        function movePlayer(){playerY+=playerMovement*RACKET_SPEED;if(playerY<0)playerY=0;if(playerY>H-RACKET_H)playerY=H-RACKET_H;}
        function moveCPU(){
            const tY=ballY-RACKET_H/2;const diff=tY-cpuY;
            let eff=0.6+(playerScore/MAX_SCORE)*0.3;if(playerScore>=MAX_SCORE/2&&playerScore>cpuScore)eff+=0.1;
            eff=Math.min(eff,0.95);cpuY+=diff*eff*(CPU_SPEED_BASE/10);
            if(cpuY<0)cpuY=0;if(cpuY>H-RACKET_H)cpuY=H-RACKET_H;
        }

        function moveBall(){
            ballX+=ballSpeedX;ballY+=ballSpeedY;createParticles(ballX,ballY,1,'#ff9800');
            if(ballY<BALL_SIZE/2||ballY>H-BALL_SIZE/2){ballSpeedY=-ballSpeedY;playSound(audioWall);}
            if(ballX-BALL_SIZE/2<=RACKET_W&&ballY>playerY&&ballY<playerY+RACKET_H){
                ballSpeedX=-ballSpeedX;let sp=Math.sqrt(ballSpeedX**2+ballSpeedY**2);
                if(sp<MAX_BALL_SPEED){ballSpeedX*=1.05;ballSpeedY*=1.05;}
                const c=ballY-(playerY+RACKET_H/2);ballSpeedY=(c/(RACKET_H/2))*(MAX_BALL_SPEED/2);
                ballX=RACKET_W+BALL_SIZE/2;playSound(audioHit);createParticles(ballX,ballY,10,'#fff');
            }
            if(ballX+BALL_SIZE/2>=W-RACKET_W&&ballY>cpuY&&ballY<cpuY+RACKET_H){
                ballSpeedX=-ballSpeedX;let sp=Math.sqrt(ballSpeedX**2+ballSpeedY**2);
                if(sp<MAX_BALL_SPEED){ballSpeedX*=1.05;ballSpeedY*=1.05;}
                const c=ballY-(cpuY+RACKET_H/2);ballSpeedY=(c/(RACKET_H/2))*(MAX_BALL_SPEED/2);
                ballX=W-RACKET_W-BALL_SIZE/2;playSound(audioHit);createParticles(ballX,ballY,10,'#fff');
            }
            if(ballX<0){cpuScore++;playSound(audioScore);checkGameOver();resetBall();}
            if(ballX>W){playerScore++;playSound(audioScore);checkGameOver();resetBall();}
        }

        function resetBall(initial=false){
            ballX=W/2;ballY=H/2;
            if(initial){ballSpeedX=0;ballSpeedY=0;}
            else{const dirX=Math.random()<0.5?1:-1;ballSpeedX=INITIAL_BALL_SPEED*dirX;
                ballSpeedY=(Math.random()*4-2)*(H/500);}
        }

        function checkGameOver(){
            if(playerScore>=MAX_SCORE||cpuScore>=MAX_SCORE){
                gameState='gameover';clearInterval(gameLoopId);playSound(audioGameOver);
            }
        }

        function gameLoop(){if(gameState==='playing'){movePlayer();moveCPU();moveBall();}draw();}

        document.addEventListener('keydown',e=>{
            if(gameState==='playing'){if(e.key==='w'||e.key==='W')playerMovement=-1;
            else if(e.key==='s'||e.key==='S')playerMovement=1;}
            if(e.key===' '&&(gameState==='start'||gameState==='gameover'))initGame();
        });

        document.addEventListener('keyup',e=>{
            if(gameState==='playing'){if((e.key==='w'||e.key==='W')&&playerMovement===-1)playerMovement=0;
            else if((e.key==='s'||e.key==='S')&&playerMovement===1)playerMovement=0;}
        });

        const playBtn=document.getElementById('playBtn');
        playBtn.addEventListener('click',()=>{if(gameState==='start'||gameState==='gameover')initGame();});
        document.getElementById('menuBtn').addEventListener('click',()=>window.location.href='menu-minigames.html');
        const upBtn=document.getElementById('upBtn'),downBtn=document.getElementById('downBtn');
        upBtn.addEventListener('mousedown',()=>startMoving(-1));upBtn.addEventListener('mouseup',stopMoving);
        upBtn.addEventListener('mouseleave',stopMoving);upBtn.addEventListener('touchstart',e=>{e.preventDefault();startMoving(-1);});
        upBtn.addEventListener('touchend',stopMoving);
        downBtn.addEventListener('mousedown',()=>startMoving(1));downBtn.addEventListener('mouseup',stopMoving);
        downBtn.addEventListener('mouseleave',stopMoving);downBtn.addEventListener('touchstart',e=>{e.preventDefault();startMoving(1);});
        downBtn.addEventListener('touchend',stopMoving);

        function startMoving(d){if(gameState==='playing')playerMovement=d;}
        function stopMoving(){playerMovement=0;}

        function initGame(){
            playerScore=0;cpuScore=0;playerY=H/2-RACKET_H/2;cpuY=H/2-RACKET_H/2;particles.length=0;
            resetBall();if(gameLoopId)clearInterval(gameLoopId);
            gameLoopId=setInterval(gameLoop,1000/60);gameState='playing';playSound(audioStart);
        }

        window.onload=()=>{resizeCanvas();draw();};
        window.addEventListener('resize',resizeCanvas);
    </script>

    <footer>© Lucas Coelho, 2025</footer>
</body>
</html>
